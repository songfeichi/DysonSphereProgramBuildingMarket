# 基于回溯法全排列和动态规划的算法搜索戴森球计划中的全建筑自动化产线
戴森球计划中有52种建筑，每个建筑由2到5种组件构成，共26种不同组件。建筑由制作台从最多6条传送带上抓取组件自动生产，一条传送带可被多个制作台使用，其上只有一种组件。这样的产线称为超市。  
- 难点：1，暴力搜索时间复杂度O(m!n!)；2，朴素算法（组件不能在重复出现在多条传送带上）无解，至少有2次重复；3，对初始序列敏感。
- 成果：1，深度优先，可得到某一建筑序列的全部可行组件排列路径；2，在随机打乱的初始顺序下，若经过简单的预排列，算法可迅速得到对26种组件，38种基础建筑的解；3，优化next_permutation算法，当前建筑序列可行时O(1)判断下一序列可行性，如问题无解搜索次数约(n/2)!；4，8个args option，算法参数全部可自定义。
## Usage:
对熟悉Javascript的
```
npm i
./main.js --help for usage
```
对不熟悉Javascript的，使用base.txt和upgrade.txt，或等待网页版（有生之年）。

## 注意
BASE，基础建筑，需要组件重复2次，默认铁块。UPGRADE，初级建筑的升级，不需要重复。
## 混带
混带为多种组件材料在一条传送带上，顾名思义是组件的相加。故修改建筑配方，如["铜块", "光子合并器"] 修改为["铜块+光子合并器"]，即为混带。
## Bugs:
输出同建筑序列的不同组件顺序的情况没有充分测试。
All issues are welcome. 
